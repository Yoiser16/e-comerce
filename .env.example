# ============================================================
# CONFIGURACIÓN DE ENTORNO - E-COMMERCE BACKEND
# ============================================================
# 
# INSTRUCCIONES:
# 1. Copiar este archivo a .env
# 2. Rellenar TODOS los valores marcados como OBLIGATORIO
# 3. Generar SECRET_KEY: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
# 4. NUNCA commitear .env a Git
#
# ============================================================

# ============================================================
# AMBIENTE (OBLIGATORIO)
# ============================================================
# Valores válidos: development | staging | production
# Afecta configuración de seguridad automáticamente
DJANGO_ENVIRONMENT=development

# ============================================================
# SECRET KEY (OBLIGATORIO)
# ============================================================
# Requisitos:
# - Mínimo 50 caracteres
# - NO puede contener: 'django-insecure', 'change-me', 'secret', '1234'
# - Diferente para cada ambiente (dev/staging/prod)
#
# Generar:
# python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
DJANGO_SECRET_KEY=

# ============================================================
# DEBUG MODE (OPCIONAL)
# ============================================================
# Solo aplica en DJANGO_ENVIRONMENT=development
# En staging/production SIEMPRE es False (no se puede override)
DJANGO_DEBUG=True

# ============================================================
# ALLOWED HOSTS (OBLIGATORIO en staging/production)
# ============================================================
# Desarrollo: localhost se usa por defecto si está vacío
# Producción: OBLIGATORIO, lista separada por comas
# Staging: OBLIGATORIO, lista separada por comas
#
# Ejemplos:
# Development: (dejar vacío o localhost,127.0.0.1)
# Staging: staging.example.com
# Production: example.com,www.example.com,api.example.com
#
# PROHIBIDO: Wildcard (*) en production/staging
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1

# ============================================================
# BASE DE DATOS - PostgreSQL (OBLIGATORIO)
# ============================================================
DB_NAME=ecommerce_db
DB_USER=ecommerce_user
DB_PASSWORD=
DB_HOST=localhost
DB_PORT=5432

# ============================================================
# SSL DE BASE DE DATOS (OBLIGATORIO en staging/production)
# ============================================================
# Valores válidos:
# - disable: Solo development
# - require: Staging/Production (mínimo)
# - verify-ca: Producción recomendado
# - verify-full: Producción máxima seguridad
#
# CRÍTICO: En staging/production NO puede ser 'disable'
DB_SSL_MODE=disable

# ============================================================
# CONNECTION POOLING (OPCIONAL)
# ============================================================
# Tiempo en segundos que conexiones permanecen abiertas
# 0 = cerrar después de cada request (default)
# 600 = 10 minutos (recomendado para producción)
DB_CONN_MAX_AGE=0

# ============================================================
# CONFIGURACIÓN POR AMBIENTE
# ============================================================

# ------------------------------------------------------------
# DEVELOPMENT
# ------------------------------------------------------------
# DJANGO_ENVIRONMENT=development
# DJANGO_SECRET_KEY=<generar>
# DJANGO_DEBUG=True
# DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1  (o dejar vacío)
# DB_SSL_MODE=disable
# DB_CONN_MAX_AGE=0

# ------------------------------------------------------------
# STAGING
# ------------------------------------------------------------
# DJANGO_ENVIRONMENT=staging
# DJANGO_SECRET_KEY=<generar DIFERENTE a dev>
# DJANGO_DEBUG=False  (forzado, no importa el valor)
# DJANGO_ALLOWED_HOSTS=staging.example.com  (OBLIGATORIO)
# DB_SSL_MODE=require  (OBLIGATORIO)
# DB_CONN_MAX_AGE=600

# ------------------------------------------------------------
# PRODUCTION
# ------------------------------------------------------------
# DJANGO_ENVIRONMENT=production
# DJANGO_SECRET_KEY=<generar DIFERENTE a dev/staging>
# DJANGO_DEBUG=False  (forzado, no importa el valor)
# DJANGO_ALLOWED_HOSTS=example.com,www.example.com,api.example.com  (OBLIGATORIO)
# DB_SSL_MODE=verify-full  (OBLIGATORIO, recomendado)
# DB_CONN_MAX_AGE=600

# ============================================================
# NOTAS DE SEGURIDAD
# ============================================================
# 1. NUNCA usar el mismo SECRET_KEY en diferentes ambientes
# 2. NUNCA commitear .env a Git (ya está en .gitignore)
# 3. En producción, usar variables de entorno del sistema operativo
#    en lugar de archivos .env (más seguro)
# 4. Rotar SECRET_KEY periódicamente (cada 3-6 meses)
# 5. SSL de BD OBLIGATORIO en producción
# 6. Usar secretos manager en cloud (AWS Secrets Manager, Azure Key Vault)



# FastAPI
API_HOST=0.0.0.0
API_PORT=8000

# Django
DJANGO_SETTINGS_MODULE=infrastructure.persistence.django.settings

# ============================================================
# WOMPI - Pasarela de Pagos (Colombia)
# ============================================================
# Keys de Wompi para procesar pagos online
# Obtener en: https://comercios.wompi.co/
#
# SANDBOX (pruebas): usar keys test_*
# PRODUCTION (real): usar keys prod_*
WOMPI_PUBLIC_KEY=pub_test_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
WOMPI_PRIVATE_KEY=prv_test_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
WOMPI_EVENTS_SECRET=test_events_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
WOMPI_INTEGRITY_SECRET=test_integrity_XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
WOMPI_ENVIRONMENT=sandbox
